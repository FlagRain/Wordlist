/* ================== 主题开关：强制深色 / 浅色 ================== */
/* 默认先给一套中性变量 */
:root {
  --bg: #0b0f17;
  --card: #121826;
  --text: #e5e7eb;
  --muted: #a1a1aa;

  --border: #232936;
  --border-strong: #384253;

  --primary: #3b82f6;   /* 蓝 */
  --primary-600: #1e40af;
  --danger: #ef4444;    /* 红 */
  --danger-600: #b91c1c;
  --accent: #60a5fa;
  --success: #22c55e;
  --warning: #f59e0b;

  --radius: 14px;
  --radius-sm: 12px;
  --shadow: 0 16px 40px rgba(0,0,0,.45);
  --shadow-sm: 0 8px 24px rgba(0,0,0,.35);

  --font: system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial,"PingFang SC","Hiragino Sans GB","Microsoft YaHei",sans-serif;
}

/* 强制深色：<html class="theme-dark"> */
html.theme-dark {
  --bg: #0b0f17;
  --card: #0f1422;
  --text: #e7ecf5;
  --muted: #9aa3b2;

  --border: #1a2230;
  --border-strong: #273248;

  --primary: #3b82f6;
  --primary-600: #1e40af;
  --danger: #ef4444;
  --danger-600: #b91c1c;

  --shadow: 0 18px 46px rgba(5,11,20,.56);
  --shadow-sm: 0 10px 28px rgba(5,11,20,.42);
}

/* （可选）强制浅色：<html class="theme-light"> */
html.theme-light {
  --bg: #f6f7fb;
  --card: #ffffff;
  --text: #111827;
  --muted: #6b7280;

  --border: #e5e7eb;
  --border-strong: #d1d5db;

  --shadow: 0 12px 28px rgba(0,0,0,.08);
  --shadow-sm: 0 6px 16px rgba(0,0,0,.06);
}

/* ================== 页面基线 ================== */
* { box-sizing: border-box; }
html, body, #app { height: 100%; }
body {
  margin: 0;
  background: radial-gradient(1200px 800px at 20% 0%, rgba(59,130,246,.12), transparent 60%),
              radial-gradient(1000px 700px at 100% 30%, rgba(16,185,129,.10), transparent 65%),
              var(--bg);
  color: var(--text);
  font: 14px/1.6 var(--font);
}

/* 容器与标题 */
.container { max-width: 1080px; margin: 28px auto; padding: 0 16px; }
.h1 { font-size: 26px; font-weight: 800; letter-spacing: .2px; }
.subtle { color: var(--muted); }

/* ================== 卡片/面板 ================== */
.card {
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0)) , var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-sm);
  backdrop-filter: saturate(120%) blur(6px);
}

/* ================== 按钮 ================== */
.btn {
  border: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0));
  color: var(--text);
  border-radius: 999px;
  padding: 8px 16px;
  font-size: 14px;
  cursor: pointer;
  transition: transform .05s, box-shadow .15s, border-color .15s, background .15s, opacity .15s;
}
.btn:hover { border-color: var(--border-strong); box-shadow: 0 6px 14px rgba(0,0,0,.18); }
.btn:active { transform: translateY(1px); }
.btn:disabled { opacity: .55; pointer-events: none; }

.btn-primary {
  background: linear-gradient(180deg, rgba(59,130,246,.2), rgba(59,130,246,.1));
  border-color: rgba(59,130,246,.65);
  color: #fff;
  box-shadow: 0 10px 22px rgba(59,130,246,.28);
}
.btn-primary:hover { background: rgba(59,130,246,.28); border-color: var(--primary); }

.btn-danger {
  background: linear-gradient(180deg, rgba(239,68,68,.22), rgba(239,68,68,.12));
  border-color: rgba(239,68,68,.65);
  color: #fff;
  box-shadow: 0 10px 22px rgba(239,68,68,.26);
}
.btn-danger:hover { background: rgba(239,68,68,.28); border-color: var(--danger); }

.btn-ghost {
  background: transparent;
  color: var(--text);
}

/* ================== 输入/选择 ================== */
.input, .select {
  width: 100%;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.02);
  color: var(--text);
  border-radius: 12px;
  padding: 10px 12px;
  transition: border-color .15s, box-shadow .15s, background .15s;
}
.input::placeholder { color: var(--muted); }
.input:focus, .select:focus {
  outline: none;
  border-color: rgba(96,165,250,.8);
  box-shadow: 0 0 0 4px rgba(96,165,250,.22);
  background: rgba(255,255,255,.04);
}
.input[disabled] { opacity: .65; background: rgba(255,255,255,.04); }

/* 第二列（描述）使用 Times New Roman，稍大一点 */
td.col-text[data-label="第二列"] .input,
.rtable td:nth-child(3) .input {
  font-family: "Times New Roman", Times, serif !important;
  font-size: 15px;
  letter-spacing: .2px;
}

/* ================== 徽章/标签 ================== */
.badge {
  display: inline-block;
  max-width: 260px;
  padding: 6px 12px;
  font-size: 12px;
  color: var(--text);
  background: rgba(96,165,250,.10);
  border: 1px solid rgba(96,165,250,.22);
  border-radius: 999px;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.badge-muted {
  background: rgba(255,255,255,.04);
  border: 1px solid var(--border);
  color: var(--muted);
}

/* ================== 工具栏 ================== */
.toolbar {
  display: flex; align-items: center; justify-content: center; gap: 12px; flex-wrap: wrap;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-sm);
  padding: 12px;
}
.toolbar .group { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; justify-content: center; }
.search { position: relative; }
.search .input { width: 300px; max-width: 70vw; border-radius: 999px; }

/* ================== 表格（响应式） ================== */
.table-wrap {
  overflow-x: auto; -webkit-overflow-scrolling: touch;
  border: 1px solid var(--border);
  border-radius: 16px;
  background: var(--card);
  box-shadow: var(--shadow-sm);
}
.rtable { width: 100%; border-collapse: collapse; min-width: 900px; }
.rtable th, .rtable td { padding: 14px 14px; border-top: 1px solid var(--border); }
.rtable thead tr { background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,0)); }
.rtable thead th { position: sticky; top: 0; z-index: 1; font-weight: 800; color: var(--text); }

/* 对齐：默认居中；文本两列左对齐；序号/音频/操作居中 */
.rtable th, .rtable td { text-align: center; vertical-align: middle; }
.rtable td.col-text { text-align: left !important; }
.rtable td.col-index, .rtable td.col-audio, .rtable td.col-actions { text-align: center !important; }

/* 行 hover 高亮 */
.rtable tbody tr.row { transition: background .15s, box-shadow .15s; }
.rtable tbody tr.row:hover { background: rgba(96,165,250,.08); }

/* 序号列改白色（桌面+窄屏） */
td.col-index, td[data-label="序号"] { color: #fff !important; }

/* 窄屏卡片模式 */
@media (max-width: 640px) {
  .rtable { min-width: 0; display: block; }
  .rtable thead { display: none; }
  .rtable tbody { display: grid; gap: 12px; padding: 12px; }
  .rtable tr.row {
    display: grid; gap: 10px;
    grid-template-columns: 1fr;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 12px;
    background: var(--card);
  }
  .rtable td {
    display: grid; grid-template-columns: 120px 1fr; gap: 8px; align-items: center; border-top: 0;
  }
  .rtable td::before { content: attr(data-label); color: var(--muted); font-size: 12px; }
  .rtable td.col-actions { grid-template-columns: 1fr; }
}

/* ================== 分页 ================== */
.pagination { display: flex; align-items: center; gap: 12px; justify-content: center; }
.pagination .btn { min-width: 90px; }

/* ================== Toast ================== */
.toast-wrap { position: fixed; right: 16px; bottom: 16px; display: flex; flex-direction: column; gap: 10px; z-index: 9999; }
.toast {
  min-width: 300px; max-width: 380px;
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,0)) , var(--card);
  border: 1px solid var(--border);
  border-left: 6px solid #93c5fd;
  box-shadow: var(--shadow);
  border-radius: 16px;
  padding: 12px;
  position: relative;
}
.toast.success{ border-left-color: var(--success); }
.toast.error{ border-left-color: var(--danger); }
.toast .toast-text{ font-size: 14px; color: var(--text); line-height: 1.5; }
.toast .toast-actions{ margin-top: 8px; display: flex; gap: 8px; flex-wrap: wrap; }
.toast .toast-close{ position: absolute; top: 6px; right: 8px; background: transparent; border: 0; color: var(--muted); font-size: 16px; cursor: pointer; }

/* ================== 细节&动画 ================== */
.hidden-file { display: none; }
.small { font-size: 12px; color: var(--muted); }
.fade-in { animation: fadeIn .18s ease-out; }
@keyframes fadeIn { from{opacity:0; transform:translateY(2px)} to{opacity:1; transform:translateY(0)} }

/* 滚动条（webkit） */
.table-wrap::-webkit-scrollbar, body::-webkit-scrollbar{ height: 10px; width: 10px; }
.table-wrap::-webkit-scrollbar-thumb, body::-webkit-scrollbar-thumb{ background: #475569; border-radius: 999px; }
.table-wrap::-webkit-scrollbar-track, body::-webkit-scrollbar-track{ background: transparent; }
